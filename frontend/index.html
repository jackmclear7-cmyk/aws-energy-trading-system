<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Energy Trading System - Real-time Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-bolt"></i>
                    <h1>Energy Trading System</h1>
                </div>
                <div class="status-indicator">
                    <div class="status-dot active"></div>
                    <span>System Active</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Workflow Steps -->
            <section class="workflow-section">
                <h2><i class="fas fa-sitemap"></i> Workflow Steps</h2>
                <div class="workflow-container">
                    <div class="workflow-step" data-step="1">
                        <div class="step-icon">
                            <i class="fas fa-cloud-sun"></i>
                        </div>
                        <div class="step-content">
                            <h3>Weather & Demand Forecast</h3>
                            <p>Analyzing weather patterns and energy demand</p>
                            <div class="step-status">
                                <span class="status-badge success">Completed</span>
                                <span class="duration">2.3s</span>
                            </div>
                        </div>
                    </div>

                    <div class="workflow-step" data-step="2">
                        <div class="step-icon">
                            <i class="fas fa-solar-panel"></i>
                        </div>
                        <div class="step-content">
                            <h3>Solar Production Optimization</h3>
                            <p>Optimizing solar farm output and battery usage</p>
                            <div class="step-status">
                                <span class="status-badge success">Completed</span>
                                <span class="duration">1.8s</span>
                            </div>
                        </div>
                    </div>

                    <div class="workflow-step" data-step="3">
                        <div class="step-icon">
                            <i class="fas fa-industry"></i>
                        </div>
                        <div class="step-content">
                            <h3>Consumer Energy Optimization</h3>
                            <p>Optimizing factory energy consumption</p>
                            <div class="step-status">
                                <span class="status-badge success">Completed</span>
                                <span class="duration">2.1s</span>
                            </div>
                        </div>
                    </div>

                    <div class="workflow-step" data-step="4">
                        <div class="step-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="step-content">
                            <h3>Market Trade Execution</h3>
                            <p>Matching orders and executing trades</p>
                            <div class="step-status">
                                <span class="status-badge success">Completed</span>
                                <span class="duration">1.5s</span>
                            </div>
                        </div>
                    </div>

                    <div class="workflow-step" data-step="5">
                        <div class="step-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="step-content">
                            <h3>Grid Stability Monitoring</h3>
                            <p>Monitoring grid health and stability</p>
                            <div class="step-status">
                                <span class="status-badge success">Completed</span>
                                <span class="duration">1.2s</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Real-time Metrics -->
            <section class="metrics-section">
                <h2><i class="fas fa-chart-bar"></i> Real-time Metrics</h2>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Solar Generation</h3>
                            <div class="metric-value">450 MW</div>
                            <div class="metric-change positive">+12.5%</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Grid Demand</h3>
                            <div class="metric-value">1,250 MW</div>
                            <div class="metric-change positive">+8.3%</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Market Price</h3>
                            <div class="metric-value">$0.083/kWh</div>
                            <div class="metric-change negative">-2.1%</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-battery-three-quarters"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Battery Storage</h3>
                            <div class="metric-value">85%</div>
                            <div class="metric-change positive">+5.2%</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Agent Status -->
            <section class="agents-section">
                <h2><i class="fas fa-robot"></i> Agent Status</h2>
                <div class="agents-grid">
                    <div class="agent-card">
                        <div class="agent-avatar">
                            <i class="fas fa-cloud-sun"></i>
                        </div>
                        <div class="agent-info">
                            <h3>Forecasting Agent</h3>
                            <p>Weather & Demand Analysis</p>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span>Active</span>
                            </div>
                        </div>
                    </div>

                    <div class="agent-card">
                        <div class="agent-avatar">
                            <i class="fas fa-solar-panel"></i>
                        </div>
                        <div class="agent-info">
                            <h3>Producer Agent</h3>
                            <p>Solar Farm Management</p>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span>Active</span>
                            </div>
                        </div>
                    </div>

                    <div class="agent-card">
                        <div class="agent-avatar">
                            <i class="fas fa-industry"></i>
                        </div>
                        <div class="agent-info">
                            <h3>Consumer Agent</h3>
                            <p>Factory Optimization</p>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span>Active</span>
                            </div>
                        </div>
                    </div>

                    <div class="agent-card">
                        <div class="agent-avatar">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="agent-info">
                            <h3>Market Supervisor</h3>
                            <p>Trade Execution</p>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span>Active</span>
                            </div>
                        </div>
                    </div>

                    <div class="agent-card">
                        <div class="agent-avatar">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="agent-info">
                            <h3>Grid Optimization</h3>
                            <p>Stability Monitoring</p>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span>Active</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Real-time Events -->
            <section class="events-section">
                <h2><i class="fas fa-stream"></i> Real-time Events</h2>
                <div class="events-container">
                    <div class="event-timeline" id="eventTimeline">
                        <!-- Events will be populated by JavaScript -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Chatbot Integration -->
    <div class="chatbot-container" id="chatbotContainer">
        <!-- Chat Header -->
        <div class="chat-header">
            <div class="chat-title">
                <div class="bot-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="title-text">
                    <h3>Energy Trading Assistant</h3>
                    <span class="status">Online</span>
                </div>
            </div>
            <div class="chat-controls">
                <button class="control-btn" id="minimizeBtn">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="control-btn" id="closeBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>

        <!-- Chat Messages -->
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">
                        Hello! I'm your Energy Trading Assistant. I can help you with:
                        <br><br>
                        📊 System status and metrics<br>
                        🌤️ Weather forecasts and solar predictions<br>
                        💰 Market analysis and trading recommendations<br>
                        ⚡ Grid stability monitoring<br>
                        🔋 Battery optimization strategies<br>
                        📈 Performance reports and insights<br>
                        <br>
                        What would you like to know about your energy trading system?
                    </div>
                    <div class="message-time">Just now</div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions" id="quickActions">
            <button class="quick-action-btn" data-query="What's the current system status?">
                <i class="fas fa-chart-line"></i>
                System Status
            </button>
            <button class="quick-action-btn" data-query="Show me the weather forecast">
                <i class="fas fa-cloud-sun"></i>
                Weather
            </button>
            <button class="quick-action-btn" data-query="What's the market price?">
                <i class="fas fa-dollar-sign"></i>
                Market Price
            </button>
            <button class="quick-action-btn" data-query="How are the batteries performing?">
                <i class="fas fa-battery-three-quarters"></i>
                Battery Status
            </button>
        </div>

        <!-- Chat Input -->
        <div class="chat-input-container">
            <div class="chat-input">
                <button class="input-btn" id="attachBtn">
                    <i class="fas fa-paperclip"></i>
                </button>
                <input type="text" id="messageInput" placeholder="Type your message...">
                <button class="input-btn" id="voiceBtn">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="input-btn send-btn" id="sendBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Floating Chat Button -->
    <div class="floating-chat-btn" id="floatingChatBtn">
        <i class="fas fa-comments"></i>
        <span class="notification-badge" id="notificationBadge">3</span>
    </div>

            <script src="script.js?v=4"></script>
        <script src="chatbot-integration.js?v=7"></script>
</body>
</html>
